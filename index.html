<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>XXXVault - Premium Adult Content</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary-color: #ff4d4d;
      --background: #121212;
      --card-bg: #1e1e1e;
      --text-color: #fff;
      --accent: #ff69b4;
      --search-bg: #2a2a2a;
    }
    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background-color: var(--background);
      color: var(--text-color);
    }
    
    /* Age Verification Modal */
    .age-verification {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: #000;
      z-index: 9999;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 20px;
    }
    .age-verification h1 {
      color: var(--primary-color);
      font-size: 2.5em;
      margin-bottom: 20px;
    }
    .age-verification h2 {
      color: var(--accent);
      font-size: 1.8em;
      margin-bottom: 15px;
    }
    .age-verification p {
      font-size: 1.1em;
      line-height: 1.6;
      max-width: 800px;
      margin-bottom: 30px;
    }
    .age-verification .warning {
      color: var(--primary-color);
      font-weight: bold;
      font-size: 1.3em;
      margin: 20px 0;
    }
    .age-buttons {
      display: flex;
      gap: 20px;
      margin-top: 30px;
    }
    .age-btn {
      padding: 12px 30px;
      border: none;
      border-radius: 30px;
      font-size: 1.2em;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .age-btn.yes {
      background: var(--primary-color);
      color: white;
    }
    .age-btn.no {
      background: #333;
      color: white;
    }
    .age-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 0 15px rgba(255, 77, 77, 0.5);
    }
    
    .main-content {
      display: none;
    }
    
    .header {
      background: #000;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 30px;
      box-shadow: 0 4px 12px rgba(255, 77, 77, 0.2);
      position: sticky;
      top: 0;
      z-index: 100;
    }
    .brand {
      display: flex;
      align-items: center;
      font-size: 2.5em;
      font-weight: 700;
      color: var(--primary-color);
      text-shadow: 0 0 15px rgba(255, 77, 77, 0.7);
      font-family: 'Playfair Display', serif;
      letter-spacing: 1px;
    }
    .brand .heart {
      color: var(--accent);
      margin-right: 12px;
      font-size: 1.5em;
      text-shadow: 0 0 10px rgba(255, 105, 180, 0.7);
      animation: pulse 1.5s infinite;
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.2); }
      100% { transform: scale(1); }
    }
    .search-bar {
      display: flex;
      flex-grow: 1;
      margin: 0 30px;
      max-width: 600px;
      position: relative;
    }
    .search-bar input {
      width: 100%;
      padding: 12px 20px;
      border: none;
      border-radius: 30px;
      background: var(--search-bg);
      color: white;
      font-size: 1em;
      outline: none;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      transition: all 0.3s ease;
    }
    .search-bar input:focus {
      box-shadow: 0 2px 15px rgba(255, 77, 77, 0.4);
    }
    .search-bar button {
      position: absolute;
      right: 5px;
      top: 5px;
      padding: 7px 15px;
      background: var(--primary-color);
      border: none;
      color: white;
      border-radius: 30px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.2s ease;
    }
    .search-bar button:hover {
      background: #ff3333;
      transform: scale(1.05);
    }
    .categories {
      background: #111;
      padding: 15px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
      border-bottom: 1px solid #333;
    }
    .categories button {
      background: #333;
      color: white;
      border: none;
      padding: 8px 18px;
      border-radius: 30px;
      cursor: pointer;
      font-weight: 500;
      transition: all 0.2s ease;
    }
    .categories button.active {
      background: var(--primary-color);
      transform: translateY(-2px);
    }
    .categories button:hover {
      background: var(--primary-color);
      transform: translateY(-2px);
    }
    .video-list {
      max-width: 1400px;
      margin: 30px auto;
      padding: 0 20px;
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 25px;
    }
    .video-card {
      background-color: var(--card-bg);
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      transition: all 0.3s ease;
      cursor: pointer;
    }
    .video-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(255, 77, 77, 0.3);
    }
    .video-card .thumbnail {
      width: 100%;
      height: 200px;
      background-size: cover;
      background-position: center;
      position: relative;
    }
    .video-card .play-icon {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 3em;
      color: white;
      text-shadow: 0 0 10px rgba(0,0,0,0.5);
      opacity: 0.8;
    }
    .video-card h3 {
      padding: 15px;
      margin: 0;
      font-size: 1.1em;
      font-weight: 600;
    }
    .video-card .meta {
      padding: 0 15px 15px;
      font-size: 0.85em;
      color: #aaa;
      display: flex;
      gap: 15px;
    }
    .video-card .description {
      padding: 0 15px 15px;
      font-size: 0.85em;
      color: #ccc;
      line-height: 1.5;
    }
    #loadMoreBtn {
      background: var(--primary-color);
      color: white;
      padding: 12px 30px;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      display: block;
      margin: 30px auto 40px;
      font-weight: 600;
      font-size: 1em;
      transition: all 0.2s ease;
      box-shadow: 0 4px 15px rgba(255, 77, 77, 0.4);
    }
    #loadMoreBtn:hover {
      background: #ff3333;
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(255, 77, 77, 0.5);
    }

    /* Video Player Page Styles */
    .video-player-container {
      max-width: 1200px;
      margin: 20px auto;
      padding: 0 20px;
    }
    .video-player {
      width: 100%;
      height: 0;
      padding-bottom: 56.25%; /* 16:9 aspect ratio */
      position: relative;
      background: #000;
      border-radius: 10px;
      overflow: hidden;
      margin-bottom: 30px;
    }
    .video-player iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
    }
    .video-actions {
      display: flex;
      gap: 15px;
      margin-bottom: 30px;
    }
    .action-btn {
      padding: 8px 20px;
      border-radius: 20px;
      background: #333;
      color: white;
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: all 0.2s ease;
    }
    .action-btn:hover {
      background: var(--primary-color);
      transform: translateY(-2px);
    }
    .related-videos {
      margin-top: 40px;
    }
    .related-videos h2 {
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 2px solid var(--primary-color);
    }

    /* Ad Container Styling */
    #responsiveAdContainer {
      text-align: center;
      margin: 40px auto;
      max-width: 100%;
      padding: 0 20px;
    }

    @media (max-width: 768px) {
      .header {
        flex-direction: column;
        padding: 15px;
      }
      .brand {
        font-size: 2em;
        margin-bottom: 15px;
      }
      .search-bar {
        width: 100%;
        margin: 15px 0;
      }
      .video-list {
        grid-template-columns: 1fr;
      }
      .age-verification h1 {
        font-size: 1.8em;
      }
      .age-verification h2 {
        font-size: 1.4em;
      }
      .age-verification p {
        font-size: 1em;
      }
      .age-buttons {
        flex-direction: column;
        gap: 10px;
      }
      .video-actions {
        flex-wrap: wrap;
      }
    }
  </style>
</head>
<body>
  <!-- Age Verification Modal -->
  <div class="age-verification" id="ageVerification">
    <h1>üîû 18+ ADULT CONTENT WARNING üîû</h1>
    <h2>XXXVAULT - STRICTLY FOR ADULTS ONLY</h2>
    
    <p>This website contains explicit adult material and is only for viewers who are 18 years of age or older (or the legal age of majority in your jurisdiction). By entering, you confirm that:</p>
    
    <div class="warning">
      ‚úîÔ∏è You are at least 18 years old<br>
      ‚úîÔ∏è You want to access adult content<br>
      ‚úîÔ∏è It is legal to view such content in your area
    </div>
    
    <p>We do not allow minors on this platform. The content includes nudity and sexual acts intended solely for adults. If you are under 18 or find such material offensive, please leave immediately.</p>
    
    <p>By entering this site, you agree to our Terms of Service and acknowledge that we use cookies to enhance your experience.</p>
    
    <div class="age-buttons">
      <button class="age-btn yes" id="confirmAge">YES, I AM 18+</button>
      <button class="age-btn no" id="denyAge">NO, I'M NOT 18+</button>
    </div>
  </div>

  <!-- Main Content (hidden until age verification) -->
  <div class="main-content" id="mainContent">
    <div class="header">
      <div class="brand"><span class="heart">‚ù§</span>XXXVault</div>
      <div class="search-bar">
        <input type="text" id="searchInput" placeholder="Search videos..." autocomplete="off">
        <button onclick="searchVideos()"><i class="fas fa-search"></i></button>
      </div>
    </div>

    <div class="categories" id="categoryBar"></div>
    <div class="video-list" id="videoList"></div>

    <button id="loadMoreBtn">Load More Videos</button>

    <!-- Ad Container -->
    <div id="responsiveAdContainer">
      <script async="async" data-cfasync="false" src="//pl27142234.profitableratecpm.com/83870399302cbe5357db75d3d7bbf0a7/invoke.js"></script>
      <div id="container-83870399302cbe5357db75d3d7bbf0a7"></div>
    </div>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getFirestore, collection, getDocs, doc, updateDoc, increment } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCcWNBqcYhgVzs8DIgB7D8vmDu8if-a8zo",
      authDomain: "xxxvault-28f70.firebaseapp.com",
      projectId: "xxxvault-28f70",
      storageBucket: "xxxvault-28f70.appspot.com",
      messagingSenderId: "226704398059",
      appId: "1:226704398059:web:9f02b1013f14ada73090ae"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Age Verification
    const ageVerification = document.getElementById('ageVerification');
    const mainContent = document.getElementById('mainContent');
    const confirmAgeBtn = document.getElementById('confirmAge');
    const denyAgeBtn = document.getElementById('denyAge');

    // Check if already verified
    if(localStorage.getItem('ageVerified') === 'true') {
      ageVerification.style.display = 'none';
      mainContent.style.display = 'block';
    }

    confirmAgeBtn.addEventListener('click', () => {
      localStorage.setItem('ageVerified', 'true');
      ageVerification.style.display = 'none';
      mainContent.style.display = 'block';
    });

    denyAgeBtn.addEventListener('click', () => {
      window.location.href = 'https://www.google.com';
    });

    // Main App Functionality
    const videoList = document.getElementById("videoList");
    const loadMoreBtn = document.getElementById("loadMoreBtn");
    const searchInput = document.getElementById("searchInput");
    const categoryBar = document.getElementById("categoryBar");
    let allVideos = [];
    let displayed = 0;
    const perPage = 8;
    let currentCategory = "milf";

    // Categories setup
    const categories = [
      { id: "milf", name: "MILF" },
      { id: "teen", name: "Teen" },
      { id: "stepsister", name: "Stepsister" },
      { id: "stepmom", name: "Stepmom" },
      { id: "frontpage", name: "Front Page" }
    ];

    function createCategoryButtons() {
      categoryBar.innerHTML = '';
      categories.forEach(cat => {
        const btn = document.createElement('button');
        btn.textContent = cat.name;
        btn.dataset.category = cat.id;
        if (cat.id === currentCategory) {
          btn.classList.add('active');
        }
        btn.onclick = () => {
          currentCategory = cat.id;
          videoList.innerHTML = '';
          displayed = 0;
          filterVideos();
          // Update active button
          document.querySelectorAll('.categories button').forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
        };
        categoryBar.appendChild(btn);
      });
    }

    function extractEmbedUrl(embedString) {
      const match = embedString.match(/src\s*=\s*\"([^\"]+)/);
      return match ? match[1] : embedString;
    }

    function getThumbnailUrl(embedUrl) {
      // This is a placeholder - you'll need to implement actual thumbnail generation
      // For YouTube: https://img.youtube.com/vi/VIDEO_ID/mqdefault.jpg
      return "https://via.placeholder.com/320x200/333/fff?text=XXXVault";
    }

    async function updateViewCount(videoId) {
      try {
        const videoRef = doc(db, "videos", videoId);
        await updateDoc(videoRef, {
          views: increment(1)
        });
      } catch (error) {
        console.error("Error updating view count:", error);
      }
    }

    async function updateLikeCount(videoId) {
      try {
        const videoRef = doc(db, "videos", videoId);
        await updateDoc(videoRef, {
          likes: increment(1)
        });
        return true;
      } catch (error) {
        console.error("Error updating like count:", error);
        return false;
      }
    }

    function renderVideos(videos = allVideos) {
      const slice = videos.slice(displayed, displayed + perPage);
      slice.forEach((data) => {
        const embed = extractEmbedUrl(data.embed);
        const card = document.createElement("div");
        card.className = "video-card";
        card.innerHTML = `
          <div class="thumbnail" style="background-image: url('${getThumbnailUrl(embed)}')" 
               onclick="window.openVideo('${embed}', '${data.id}')">
            <div class="play-icon"><i class="fas fa-play"></i></div>
          </div>
          <h3>${data.title}</h3>
          <div class="meta">
            <span>üëÅ ${data.views || 0} views</span>
            <span>‚ù§Ô∏è ${data.likes || 0} Likes</span>
          </div>
          <div class="description">${data.description || ''}</div>
        `;
        videoList.appendChild(card);
      });
      displayed += perPage;
      if (displayed >= videos.length) {
        loadMoreBtn.style.display = 'none';
      } else {
        loadMoreBtn.style.display = 'block';
      }
    }

    function filterVideos() {
      if (currentCategory === "frontpage") {
        // Show featured videos on front page
        const featuredVideos = allVideos.filter(video => video.featured);
        renderVideos(featuredVideos.length > 0 ? featuredVideos : allVideos.slice(0, 12));
      } else {
        const filteredVideos = allVideos.filter(video => 
          video.tags && video.tags.includes(currentCategory)
        );
        renderVideos(filteredVideos.length > 0 ? filteredVideos : allVideos);
      }
    }

    async function loadVideos() {
      const querySnapshot = await getDocs(collection(db, "videos"));
      querySnapshot.forEach((doc) => {
        allVideos.push({ id: doc.id, ...doc.data() });
      });
      
      // Auto-select MILF category and filter
      createCategoryButtons();
      filterVideos();
    }

    function searchVideos() {
      const keyword = searchInput.value.toLowerCase();
      videoList.innerHTML = '';
      displayed = 0;
      
      if (keyword.trim() === '') {
        filterVideos();
        return;
      }

      const filteredVideos = allVideos.filter(video => 
        video.title.toLowerCase().includes(keyword) || 
        (video.description && video.description.toLowerCase().includes(keyword)) ||
        (video.tags && video.tags.some(tag => tag.includes(keyword)))
      );
      renderVideos(filteredVideos);
    }

    // Global functions for video player
    window.openVideo = function(embedUrl, videoId) {
      // Update view count
      if (videoId) {
        updateViewCount(videoId);
      }
      
      // Open video in new tab with player layout
      const newWindow = window.open('', '_blank');
      newWindow.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>XXXVault - Video Player</title>
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
          <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
          <style>
            body {
              margin: 0;
              padding: 0;
              font-family: 'Poppins', sans-serif;
              background: #121212;
              color: white;
            }
            .video-player-container {
              max-width: 1200px;
              margin: 20px auto;
              padding: 0 20px;
            }
            .video-player {
              width: 100%;
              height: 0;
              padding-bottom: 56.25%;
              position: relative;
              background: #000;
              border-radius: 10px;
              overflow: hidden;
              margin-bottom: 30px;
            }
            .video-player iframe {
              position: absolute;
              top: 0;
              left: 0;
              width: 100%;
              height: 100%;
              border: none;
            }
            .video-title {
              font-size: 1.5em;
              margin-bottom: 20px;
              color: #ff4d4d;
            }
            .video-actions {
              display: flex;
              gap: 15px;
              margin-bottom: 30px;
            }
            .action-btn {
              padding: 8px 20px;
              border-radius: 20px;
              background: #333;
              color: white;
              border: none;
              cursor: pointer;
              display: flex;
              align-items: center;
              gap: 8px;
              transition: all 0.2s ease;
            }
            .action-btn:hover {
              background: #ff4d4d;
              transform: translateY(-2px);
            }
            .related-videos {
              margin-top: 40px;
            }
            .related-videos h2 {
              margin-bottom: 20px;
              padding-bottom: 10px;
              border-bottom: 2px solid #ff4d4d;
            }
            .related-videos-list {
              display: grid;
              grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
              gap: 20px;
            }
            .related-video {
              background: #1e1e1e;
              border-radius: 8px;
              overflow: hidden;
              cursor: pointer;
            }
            .related-thumbnail {
              width: 100%;
              height: 150px;
              background-size: cover;
              background-position: center;
